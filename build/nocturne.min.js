(function(_1){
var _2={VERSION:"0.0.12",lesson:"Part 12: DOM Ready",alias:"$n"};
_2.isArray=Array.isArray||function(_3){
return !!(_3&&_3.concat&&_3.unshift&&!_3.callee);
};
_2.isNumber=function(_4){
return (_4===+_4)||(toString.call(_4)==="[object Number]");
};
_2.bind=function(fn,_5){
var _6=Array.prototype.slice,_7=_6.apply(arguments,[2]);
return function(){
return fn.apply(_5||{},_7.concat(_6.apply(arguments)));
};
};
_2.exportAlias=function(_8,_9){
_1[_8]=_9();
};
if(_1.nocturne){
throw new Error("nocturne has already been defined");
}else{
_1.nocturne=_2;
}
})(typeof window==="undefined"?this:window);
nocturne.Class=function(){
return nocturne.oo.create.apply(this,arguments);
};
nocturne.oo={create:function(){
var _a=null,_b=undefined,_c=function(){
this.$super=function(_d,_e){
return nocturne.oo.$super(this.$parent,this,_d,_e);
};
this.initialize.apply(this,arguments);
};
if(typeof arguments[0]==="function"){
_b=arguments[0];
_a=arguments[1];
}else{
_a=arguments[0];
}
if(typeof _b!=="undefined"){
nocturne.oo.extend(_c.prototype,_b.prototype);
_c.prototype.$parent=_b.prototype;
}
nocturne.oo.mixin(_c,_a);
nocturne.oo.extend(_c.prototype,_a);
_c.prototype.constructor=_c;
if(!_c.prototype.initialize){
_c.prototype.initialize=function(){
};
}
return _c;
},mixin:function(_f,_10){
if(typeof _10.include!=="undefined"){
if(typeof _10.include==="function"){
nocturne.oo.extend(_f.prototype,_10.include.prototype);
}else{
for(var i=0;i<_10.include.length;i++){
nocturne.oo.extend(_f.prototype,_10.include[i].prototype);
}
}
}
},extend:function(_11,_12){
for(var _13 in _12){
_11[_13]=_12[_13];
}
return _11;
},$super:function(_14,_15,_16,_17){
return _14[_16].apply(_15,_17);
}};
nocturne.enumerable={Break:{},each:function(_18,_19,_1a){
try{
if(Array.prototype.forEach&&_18.forEach===Array.prototype.forEach){
_18.forEach(_19,_1a);
}else{
if(nocturne.isNumber(_18.length)){
for(var i=0,l=_18.length;i<l;i++){
_19.call(_18,_18[i],i,_18);
}
}else{
for(var key in _18){
if(hasOwnProperty.call(_18,key)){
_19.call(_18,_18[key],key,_18);
}
}
}
}
}
catch(e){
if(e!=nocturne.enumerable.Break){
throw e;
}
}
return _18;
},map:function(_1b,_1c,_1d){
if(Array.prototype.map&&_1b.map===Array.prototype.map){
return _1b.map(_1c,_1d);
}
var _1e=[];
nocturne.enumerable.each(_1b,function(_1f,_20,_21){
_1e.push(_1c.call(_1d,_1f,_20,_21));
});
return _1e;
},filter:function(_22,_23,_24){
if(Array.prototype.filter&&_22.filter===Array.prototype.filter){
return _22.filter(_23,_24);
}
var _25=[],_26=!nocturne.isArray(_22);
nocturne.enumerable.each(_22,function(_27,_28,_29){
if(_23.call(_24,_27,_28,_29)){
if(_26){
_25.push([_28,_27]);
}else{
_25.push(_27);
}
}
});
return _25;
},reject:function(_2a,_2b,_2c){
return this.filter(_2a,function(){
return !_2b.apply(_2c,arguments);
},_2c);
},reduce:function(_2d,_2e,_2f,_30){
if(Array.prototype.reduce&&_2d.reduce===Array.prototype.reduce){
return _2d.reduce(nocturne.bind(_2f,_30),_2e);
}
nocturne.enumerable.each(_2d,function(_31,_32,_33){
_2e=_2f.call(_30,_2e,_31,_32,_33);
});
return _2e;
},flatten:function(_34){
return nocturne.enumerable.reduce(_34,[],function(_35,_36){
if(nocturne.isArray(_36)){
return _35.concat(nocturne.enumerable.flatten(_36));
}
_35.push(_36);
return _35;
});
},tail:function(_37,_38){
_38=typeof _38==="undefined"?1:_38;
return Array.prototype.slice.apply(_37,[_38]);
},invoke:function(_39,_3a){
var _3b=nocturne.enumerable.tail(arguments,2);
return nocturne.enumerable.map(_39,function(_3c){
return (_3a?_3c[_3a]:_3c).apply(_3c,_3b);
});
},pluck:function(_3d,key){
return nocturne.enumerable.map(_3d,function(_3e){
return _3e[key];
});
},some:function(_3f,_40,_41){
_40=_40||nocturne.enumerable.identity;
if(Array.prototype.some&&_3f.some===Array.prototype.some){
return _3f.some(_40,_41);
}
var _42=false;
nocturne.enumerable.each(_3f,function(_43,_44,_45){
if(_42=_40.call(_41,_43,_44,_45)){
throw nocturne.enumerable.Break;
}
});
return _42;
},detect:function(_46,_47,_48){
var _49;
nocturne.enumerable.each(_46,function(_4a,_4b,_4c){
if(_47.call(_48,_4a,_4b,_4c)){
_49=_4a;
throw nocturne.enumerable.Break;
}
});
return _49;
},chain:function(_4d){
return new nocturne.enumerable.Chainer(_4d);
},identity:function(_4e){
return _4e;
},all:function(_4f,_50,_51){
_50=_50||nocturne.enumerable.identity;
if(Array.prototype.every&&_4f.every===Array.prototype.every){
return _4f.every(_50,_51);
}
var _52=true;
nocturne.enumerable.each(_4f,function(_53,_54,_55){
if(!(_52=_52&&_50.call(_51,_53,_54,_55))){
throw nocturne.enumerable.Break;
}
});
return _52;
},include:function(_56,_57){
if(Array.prototype.indexOf&&_56.indexOf===Array.prototype.indexOf){
return _56.indexOf(_57)!=-1;
}
var _58=false;
nocturne.enumerable.each(_56,function(_59,key){
if(_58=_59===_57){
throw nocturne.enumerable.Break;
}
});
return _58;
},};
nocturne.enumerable.select=nocturne.enumerable.filter;
nocturne.enumerable.inject=nocturne.enumerable.reduce;
nocturne.enumerable.collect=nocturne.enumerable.map;
nocturne.enumerable.rest=nocturne.enumerable.tail;
nocturne.enumerable.any=nocturne.enumerable.some;
nocturne.enumerable.every=nocturne.enumerable.all;
nocturne.chainableMethods=["map","collect","detect","filter","reduce","tail","rest","reject","pluck","any","some"];
nocturne.enumerable.Chainer=function(_5a){
this.results=_5a;
};
nocturne.enumerable.Chainer.prototype.values=function(){
return this.results;
};
nocturne.enumerable.each(nocturne.chainableMethods,function(_5b){
var _5c=nocturne.enumerable[_5b];
nocturne.enumerable.Chainer.prototype[_5b]=function(){
var _5d=Array.prototype.slice.call(arguments);
_5d.unshift(this.results);
this.results=_5c.apply(this,_5d);
return this;
};
});
nocturne.functional={curry:nocturne.bind,memorize:function(_5e,fn){
var _5f=function(n){
var _60=_5e[n];
if(typeof _60!=="number"){
_60=fn(_5f,n);
_5e[n]=_60;
}
return _60;
};
return _5f;
}};
(function(){
var dom={},_61=Error,_62,_63,_64,_65,_66,_67,_68,_69;
_62={"nl":"\n|\r\n|\r|\f","w":"[s\r\n\f]*","nonascii":"[^\x00-]","num":"-?([0-9]+|[0-9]*.[0-9]+)","unicode":"\\[0-9A-Fa-f]{1,6}(\r\n|[s\n\r\t\f])?","escape":"#{unicode}|\\[^\n\r\f0-9A-Fa-f]","nmchar":"[_A-Za-z0-9-]|#{nonascii}|#{escape}","nmstart":"[_A-Za-z]|#{nonascii}|#{escape}","ident":"[-@]?(#{nmstart})(#{nmchar})*","name":"(#{nmchar})+","string1":"\"([^\n\r\f\"]|#{nl}|#{nonascii}|#{escape})*\"","string2":"'([^\n\r\f']|#{nl}|#{nonascii}|#{escape})*'","string":"#{string1}|#{string2}"};
_63={"name and id":"(#{ident}##{ident})","id":"(##{ident})","class":"(\\.#{ident})","name and class":"(#{ident}\\.#{ident})","element":"(#{ident})","pseudo class":"(:#{ident})"};
function _6a(){
function _6b(_6c,_6d){
var _6e=true,_6f;
while(_6e){
_6f=_6c.match(/#\{([^}]+)\}/);
if(_6f&&_6f[1]){
_6c=_6c.replace(new RegExp("#{"+_6f[1]+"}","g"),_6d[_6f[1]]);
_6e=true;
}else{
_6e=false;
}
}
return _6c;
};
function _70(_71){
return _71.replace(/\//g,"//");
};
function _72(){
var key,_73,_74={},_75,_76;
if(arguments.length===2){
_76=arguments[0];
_75=arguments[1];
}else{
_76=arguments[0];
_75=arguments[0];
}
for(key in _75){
_73=_70(_6b(_75[key],_76));
_74[key]=_73;
}
return _74;
};
function _77(_78){
var _79=[],key;
for(key in _78){
_79.push(_78[key]);
}
return new RegExp(_79.join("|"),"g");
};
return _77(_72(_72(_62),_63));
};
_69=_6a();
_65={byId:function(_7a,id){
return [_7a.getElementById(id)];
},byNodeName:function(_7b,_7c){
var i,_7d=[],_7e=_7b.getElementsByTagName(_7c);
for(i=0;i<_7e.length;i++){
_7d.push(_7e[i]);
}
return _7d;
},byClassName:function(_7f,_80){
var i,_81=[],_82=_7f.getElementsByTagName("*");
for(i=0;i<_82.length;i++){
if(_82[i].className.match("\\b"+_80+"\\b")){
_81.push(_82[i]);
}
}
return _81;
}};
_67={"id":function(_83,_84){
_84=_84.split("#")[1];
return _65.byId(_83,_84);
},"name and id":function(_85,_86){
var _87=_86.split("#"),_88,id;
_88=_87[0];
id=_87[1];
return _68.byAttr(_65.byId(_85,id),"nodeName",_88.toUpperCase());
},"name":function(_89,_8a){
return _65.byNodeName(_89,_8a);
},"class":function(_8b,_8c){
_8c=_8c.split(".")[1];
return _65.byClassName(_8b,_8c);
},"name and class":function(_8d,_8e){
var _8f=_8e.split("."),_90,_91;
_90=_8f[0];
_91=_8f[1];
return _68.byAttr(_65.byClassName(_8d,_91),"nodeName",_90.toUpperCase());
}};
if(typeof document.getElementsByClassName!=="undefined"){
_65.byClassName=function(_92,_93){
return _92.getElementsByClassName(_93);
};
}
_68={byAttr:function(_94,_95,_96){
var key,_97=[];
for(key in _94){
if(_94[key]&&_94[key][_95]===_96){
_97.push(_94[key]);
}
}
return _97;
}};
_66={"id":function(_98,_99){
_99=_99.split("#")[1];
return _98&&_98.id===_99;
},"name":function(_9a,_9b){
return _9a.nodeName===_9b.toUpperCase();
},"name and id":function(_9c,_9d){
return _66.id(_9c,_9d)&&_66.name(_9c,_9d.split("#")[0]);
},"class":function(_9e,_9f){
if(_9e&&_9e.className){
_9f=_9f.split(".")[1];
return _9e.className.match("\\b"+_9f+"\\b");
}
},"name and class":function(_a0,_a1){
return _66["class"](_a0,_a1)&&_66.name(_a0,_a1.split(".")[0]);
}};
function _a2(_a3,_a4){
this.root=_a3;
this.key_selector=_a4.pop();
this.tokens=_a4;
this.results=[];
};
_a2.prototype.matchesToken=function(_a5,_a6){
if(!_66[_a6.finder]){
throw new _61("Invalid matcher: "+_a6.finder);
}
return _66[_a6.finder](_a5,_a6.identity);
};
_a2.prototype.find=function(_a7){
if(!_67[_a7.finder]){
throw new _61("Invalid finder: "+_a7.finder);
}
return _67[_a7.finder](this.root,_a7.identity);
};
_a2.prototype.matchesAllRules=function(_a8){
var _a9=this.tokens.slice(),_aa=_a9.pop(),_ab=_a8.parentNode,_ac=false;
if(!_aa||!_ab){
return false;
}
while(_ab&&_aa){
if(this.matchesToken(_ab,_aa)){
_ac=true;
_aa=_a9.pop();
}
_ab=_ab.parentNode;
}
return _ac&&_a9.length===0;
};
_a2.prototype.parse=function(){
var i,_ad,_ae=this.find(this.key_selector),_af=[];
for(i=0;i<_ae.length;i++){
_ad=_ae[i];
if(this.tokens.length>0){
if(this.matchesAllRules(_ad)){
_af.push(_ad);
}
}else{
if(this.matchesToken(_ad,this.key_selector)){
_af.push(_ad);
}
}
}
return _af;
};
_a2.prototype.values=function(){
return this.results;
};
function _b0(_b1){
return _b1.replace(/^\s+|\s+$/g,"").replace(/[ \t\r\n\f]+/g," ");
};
function _b2(_b3,_b4){
this.identity=_b3;
this.finder=_b4;
};
_b2.prototype.toString=function(){
return "identity: "+this.identity+", finder: "+this.finder;
};
function _b5(_b6){
this.selector=_b0(_b6);
this.tokens=[];
this.tokenize();
};
_b5.prototype.tokenize=function(){
var _b7,r,_b8;
r=_69;
r.lastIndex=0;
while(_b7=r.exec(this.selector)){
_b8=null;
if(_b7[10]){
_b8="id";
}else{
if(_b7[1]){
_b8="name and id";
}else{
if(_b7[29]){
_b8="name";
}else{
if(_b7[15]){
_b8="class";
}else{
if(_b7[20]){
_b8="name and class";
}
}
}
}
}
this.tokens.push(new _b2(_b7[0],_b8));
}
return this.tokens;
};
_b5.prototype.finders=function(){
var i,_b9=[];
for(i in this.tokens){
_b9.push(this.tokens[i].finder);
}
return _b9;
};
dom.tokenize=function(_ba){
var _bb=new _b5(_ba);
return _bb;
};
dom.get=function(_bc){
var _bd=dom.tokenize(_bc).tokens,_be=new _a2(document,_bd);
return _be.parse();
};
nocturne.dom=dom;
})();
(function(){
var _bf={},_c0=[],_c1=false,_c2=false,_c3,_c4=[];
function _c5(_c6){
return _c6.nodeType!==3&&_c6.nodeType!==8;
};
function _c7(_c8){
_c8.preventDefault(_c8);
_c8.stopPropagation(_c8);
};
function fix(_c9,_ca){
if(!_c9){
var _c9=window.event;
}
_c9.stop=function(){
_c7(_c9);
};
if(typeof _c9.target==="undefined"){
_c9.target=_c9.srcElement||_ca;
}
if(!_c9.preventDefault){
_c9.preventDefault=function(){
_c9.returnValue=false;
};
}
if(!_c9.stopPropagation){
_c9.stopPropagation=function(){
_c9.cancelBubble=true;
};
}
if(_c9.target&&_c9.target.nodeType===3){
_c9.target=_c9.target.parentNode;
}
if(_c9.pageX==null&&_c9.clientX!=null){
var doc=document.documentElement,_cb=document.body;
_c9.pageX=_c9.clientX+(doc&&doc.scrollLeft||_cb&&_cb.scrollLeft||0)-(doc&&doc.clientLeft||_cb&&_cb.clientLeft||0);
_c9.pageY=_c9.clientY+(doc&&doc.scrollTop||_cb&&_cb.scrollTop||0)-(doc&&doc.clientTop||_cb&&_cb.clientTop||0);
}
return _c9;
};
function _cc(_cd,_ce){
return function(_cf){
fix(_cf,_cd);
return _ce(_cf);
};
};
function _d0(_d1,_d2,_d3){
var i=0,_d4,j=0;
for(j=0;j<_c0.length;j++){
if(_c0[j].element!==_d1&&_c0[j].type!==_d2&&_c0[j].handler!==_d3){
_c0[i++]=_c0[j];
}else{
_d4=_c0[j].responder;
}
}
_c0.length=i;
return _d4;
};
function _d5(){
if(!_c2){
if(!document.body){
return setTimeout(_d5,13);
}
_c2=true;
for(var i in _c4){
_c4[i]();
}
_c4=null;
}
};
function _d6(){
if(_c2){
return;
}
try{
document.documentElement.doScroll("left");
}
catch(e){
setTimeout(_d6,1);
return;
}
_d5();
};
if(document.addEventListener){
_c3=function(){
document.removeEventListener("DOMContentLoaded",_c3,false);
_d5();
};
}else{
if(document.attachEvent){
_c3=function(){
if(document.readyState==="complete"){
document.detachEvent("onreadystatechange",_c3);
_d5();
}
};
}
}
function _d7(){
if(_c1){
return;
}
_c1=true;
if(document.readyState==="complete"){
_d5();
}else{
if(document.addEventListener){
document.addEventListener("DOMContentLoaded",_c3,false);
window.addEventListener("load",_d5,false);
}else{
if(document.attachEvent){
document.attachEvent("onreadystatechange",_c3);
window.attachEvent("onload",_d5);
var _d8=false;
try{
_d8=window.frameElement==null;
}
catch(e){
}
if(document.documentElement.doScroll&&_d8){
_d6();
}
}
}
}
};
function _d9(_da){
if(_da.match(/:/)){
return _da;
}
return "on"+_da;
};
_bf.add=function(_db,_dc,_dd){
if(!_c5(_db)){
return;
}
var _de=_cc(_db,_dd);
_c0.push({element:_db,type:_dc,handler:_dd,responder:_de});
if(_dc.match(/:/)&&_db.attachEvent){
_db.attachEvent("ondataavailable",_de);
}else{
if(_db.addEventListener){
_db.addEventListener(_dc,_de,false);
}else{
if(_db.attachEvent){
_db.attachEvent(_d9(_dc),_de);
}
}
}
};
_bf.remove=function(_df,_e0,_e1){
if(!_c5(_df)){
return;
}
var _e2=_d0(_df,_e0,_e1);
if(document.removeEventListener){
_df.removeEventListener(_e0,_e2,false);
}else{
_df.detachEvent(_d9(_e0),_e2);
}
};
_bf.fire=function(_e3,_e4){
var _e5;
if(document.createEventObject){
_e5=document.createEventObject();
fix(_e5,_e3);
if(_e4.match(/:/)){
_e5.eventName=_e4;
_e5.eventType="ondataavailable";
return _e3.fireEvent(_e5.eventType,_e5);
}else{
return _e3.fireEvent(_d9(_e4),_e5);
}
}else{
_e5=document.createEvent("HTMLEvents");
fix(_e5,_e3);
_e5.eventName=_e4;
_e5.initEvent(_e4,true,true);
return !_e3.dispatchEvent(_e5);
}
};
_bf.ready=function(_e6){
_d7();
_c4.push(_e6);
};
nocturne.events=_bf;
if(typeof window!=="undefined"&&window.attachEvent&&!window.addEventListener){
window.attachEvent("onunload",function(){
for(var i=0;i<_c0.length;i++){
try{
_bf.remove(_c0[i].element,_c0[i].type);
_c0[i]=null;
}
catch(e){
}
}
});
}
})();
(function(){
nocturne.aliasFramework=function(){
var _e7=function(){
return nocturne.dom.get(arguments[0]);
};
if(nocturne.enumerable){
nocturne.enumerable.each(nocturne.enumerable,function(fn,_e8){
_e7[_e8]=fn;
});
}
if(nocturne.dom){
_e7.dom=nocturne.dom;
}
if(nocturne.events){
_e7.events=nocturne.events;
}
return _e7;
};
nocturne.exportAlias(nocturne.alias,nocturne.aliasFramework);
})();
(function(){
var _e9={},_ea={},_eb,_ec,_ed={};
function _ee(_ef){
return _ef.replace(/-+(.)?/g,function(_f0,chr){
return chr?chr.toUpperCase():"";
});
};
function _f1(){
return (typeof document.body.style.opacity!=="undefined")?"opacity":"filter";
};
function _f2(_f3){
this.r=0;
this.g=0;
this.b=0;
this.value=this.normalise(_f3);
this.parse();
};
_f2.matchers=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(_f4){
return [parseInt(_f4[1]),parseInt(_f4[2]),parseInt(_f4[3])];
}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(_f5){
return [parseInt(_f5[1],16),parseInt(_f5[2],16),parseInt(_f5[3],16)];
}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(_f6){
return [parseInt(_f6[1]+_f6[1],16),parseInt(_f6[2]+_f6[2],16),parseInt(_f6[3]+_f6[3],16)];
}}];
_f2.prototype.normalise=function(_f7){
_f7.replace(/ /g,"");
if(_f7.charAt(0)=="#"){
_f7=_f7.substr(1,6);
}
return _f7;
};
_f2.prototype.parse=function(){
var _f8=[],i;
for(i=0;i<_f2.matchers.length;i++){
_f8=this.value.match(_f2.matchers[i].re);
if(_f8){
_f8=_f2.matchers[i].process(_f8);
this.r=_f8[0];
this.g=_f8[1];
this.b=_f8[2];
break;
}
}
this.validate();
};
_f2.prototype.validate=function(){
this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);
this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);
this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);
};
_f2.prototype.sum=function(){
return this.r+this.g+this.b;
};
_f2.prototype.toString=function(){
return "rgb("+this.r+", "+this.g+", "+this.b+")";
};
function _f9(_fa){
return typeof _fa==="string"&&_fa.match(/(#[a-f|A-F|0-9]|rgb)/);
};
function _fb(_fc){
return {value:new _f2(_fc),units:"",transform:_fd};
};
function _fe(_ff,_100,_101){
return (_101(_100)*_ff.value);
};
function _fd(v,_102,_103){
var _104=[];
_104[0]=Math.round(v.base.r+(v.direction[0]*(Math.abs(v.base.r-v.value.r)*_103(_102))));
_104[1]=Math.round(v.base.g+(v.direction[1]*(Math.abs(v.base.g-v.value.g)*_103(_102))));
_104[2]=Math.round(v.base.b+(v.direction[2]*(Math.abs(v.base.b-v.value.b)*_103(_102))));
return "rgb("+_104.join(", ")+")";
};
function _105(_106){
var n=(typeof _106==="string")?parseFloat(_106):_106,_107=(typeof _106==="string")?_106.replace(n,""):"";
return {value:n,units:_107,transform:_fe};
};
function _108(_109,_10a,_10b){
if(_f9(_109)){
var _10c=_fb(_109),i;
_10c.base=new _f2(_10a.style[_10b]);
_10c.direction=[_10c.base.r<_10c.value.r?1:-1,_10c.base.g<_10c.value.g?1:-1,_10c.base.b<_10c.value.b?1:-1];
return _10c;
}else{
return _105(_109);
}
};
function _10d(_10e,_10f,_110){
if(_10f=="opacity"&&_ec=="filter"){
_10e.style[_ec]="alpha(opacity="+Math.round(_110*100)+")";
return _10e;
}
_10e.style[_10f]=_110;
return _10e;
};
_ea.linear=function(_111){
return _111;
};
_ea.sine=function(_112){
return (-Math.cos(_112*Math.PI)/2)+0.5;
};
_ea.reverse=function(_113){
return 1-_113;
};
_ea.spring=function(_114){
return 1-(Math.cos(_114*Math.PI*4)*Math.exp(-_114*6));
};
_ea.bounce=function(_115){
if(_115<(1/2.75)){
return 7.6*_115*_115;
}else{
if(_115<(2/2.75)){
return 7.6*(_115-=(1.5/2.75))*_115+0.74;
}else{
if(_115<(2.5/2.75)){
return 7.6*(_115-=(2.25/2.75))*_115+0.91;
}else{
return 7.6*(_115-=(2.625/2.75))*_115+0.98;
}
}
}
};
_e9.animate=function(_116,_117,_118,_119){
var _117=_117,_11a=(new Date).valueOf(),_11b=_11a+_117,_11c=_ea.linear,_11d;
if(!_ec){
_ec=_f1();
}
_119=_119||{};
if(_119.hasOwnProperty("easing")){
if(typeof _119.easing==="string"){
_11c=_ea[_119.easing];
}else{
if(_119.easing){
_11c=_119.easing;
}
}
}
for(var _11e in _118){
if(_118.hasOwnProperty(_11e)){
_118[_11e]=_108(_118[_11e],_116,_11e);
if(_11e=="opacity"&&_ec=="filter"){
_116.style.zoom=1;
}else{
if(_ed.vendorPrefix&&_11e=="left"||_11e=="top"){
_ed.start(_116,_117,_11e,_118[_11e].value+_118[_11e].units,_119.easing);
setTimeout(function(){
_ed.end(_116,_11e);
},_117);
return;
}
}
}
}
_11d=setInterval(function(){
var time=(new Date).valueOf(),_11f=time>_11b?1:(time-_11a)/_117;
for(var _120 in _118){
if(_118.hasOwnProperty(_120)){
_10d(_116,_120,_118[_120].transform(_118[_120],_11f,_11c)+_118[_120].units);
}
}
if(time>_11b){
clearInterval(_11d);
}
},10);
};
_ed={vendors:{"opera":{"prefix":"-o-","detector":function(){
try{
document.createEvent("OTransitionEvent");
return true;
}
catch(e){
return false;
}
}},"webkit":{"prefix":"-webkit-","detector":function(){
try{
document.createEvent("WebKitTransitionEvent");
return true;
}
catch(e){
return false;
}
}},"firefox":{"prefix":"-moz-","detector":function(){
var div=document.createElement("div"),_121=false;
if(typeof div.style.MozTransition!=="undefined"){
_121=true;
}
div=null;
return _121;
}}},findCSS3VendorPrefix:function(){
for(var _122 in _ed.vendors){
_122=this.vendors[_122];
if(_122["detector"]()){
return _122["prefix"];
}
}
},vendorPrefix:null,start:function(_123,_124,_125,_126,_127){
_123.style[_ee(this.vendorPrefix+"transition")]=_125+" "+_124+"ms "+(_127||"linear");
_123.style[_125]=_126;
},end:function(_128,_129){
_128.style[_ee(this.vendorPrefix+"transition")]=null;
}};
_ed.vendorPrefix=_ed.findCSS3VendorPrefix();
_e9.fade=function(_12a,_12b,_12c,_12d){
_12a.style.opacity=_12c.from;
return _e9.animate(_12a,_12b,{"opacity":_12c.to},{"easing":_12c.easing});
};
_e9.fadeIn=function(_12e,_12f,_130){
_130=_130||{};
_130.from=_130.from||0;
_130.to=_130.to||1;
return _e9.fade(_12e,_12f,_130);
};
_e9.fadeOut=function(_131,_132,_133){
var from;
_133=_133||{};
_133.from=_133.from||1;
_133.to=_133.to||0;
from=_133.from;
_133.from=_133.to;
_133.to=from;
_133.easing=function(p){
return (1-p)+_133.from;
};
return _e9.fade(_131,_132,_133,{"easing":_133.easing});
};
_e9.highlight=function(_134,_135,_136){
var _137=_134.currentStyle?_134.currentStyle:getComputedStyle(_134,null);
_136=_136||{};
_136.from=_136.from||"#ff9";
_136.to=_136.to||_137.backgroundColor;
_136.easing=_136.easing||_ea.sine;
_135=_135||500;
_134.style.backgroundColor=_136.from;
return setTimeout(function(){
_e9.animate(_134,_135,{"backgroundColor":_136.to,"easing":_136.easing});
},200);
};
_e9.move=function(_138,_139,_13a){
return _e9.animate(_138,_139,{"left":_13a.x,"top":_13a.y},{"easing":_13a.easing||_ea.sine});
};
_e9.parseColor=function(_13b){
return new _f2(_13b);
};
_e9.pause=function(_13c,_13d,_13e){
};
_e9.easing=_ea;
_eb=function(_13f){
this.element=_13f;
this.position=0;
};
for(methodName in _e9){
(function(_140){
var _140=_e9[methodName];
_eb.prototype[methodName]=function(){
var args=Array.prototype.slice.call(arguments);
args.unshift(this.element);
this.position+=args[1]||0;
setTimeout(function(){
_140.apply(null,args);
},this.position);
return this;
};
})(methodName);
}
_e9.chain=function(_141){
return new _eb(_141);
};
nocturne.anim=_e9;
})();

